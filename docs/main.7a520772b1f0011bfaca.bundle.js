(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{361:function(module,exports,__webpack_require__){__webpack_require__(362),__webpack_require__(441),module.exports=__webpack_require__(442)},442:function(module,exports,__webpack_require__){"use strict";(function(module){var _react=__webpack_require__(213),req=__webpack_require__(553);(0,_react.configure)(function(){req.keys().forEach(function(filename){return req(filename)})},module)}).call(this,__webpack_require__(54)(module))},553:function(module,exports,__webpack_require__){var map={"./index.stories.js":554};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){var id=map[req];if(!(id+1)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return id}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=553},554:function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(4)),_react3=__webpack_require__(213),_addonKnobs=__webpack_require__(555),_storybookState=(__webpack_require__(563),__webpack_require__(663),__webpack_require__(665)),_DateTimeWidget2=_interopRequireDefault(__webpack_require__(667)),_DateTimeReviewWidget2=_interopRequireDefault(__webpack_require__(673)),_LocationPickerWidget2=_interopRequireDefault(__webpack_require__(777)),_LocationReviewWidget2=_interopRequireDefault(__webpack_require__(843)),_FileUploadWidget2=_interopRequireDefault(__webpack_require__(844)),_FileUploadReviewWidget2=_interopRequireDefault(__webpack_require__(939)),_OfficerDetailsDisplayWidget2=_interopRequireDefault(__webpack_require__(940)),_WitnessDetailsDisplayWidget2=_interopRequireDefault(__webpack_require__(941));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(942);var dateTimeStories=(0,_react3.storiesOf)("Date Time",module);dateTimeStories.addDecorator(_addonKnobs.withKnobs),dateTimeStories.add("Edit",function(){return _react2.default.createElement(_DateTimeWidget2.default,{value:(0,_addonKnobs.text)("Date/Time","2011-11-11 11:11 PM")})}).add("Review",function(){return _react2.default.createElement(_DateTimeReviewWidget2.default,{value:(0,_addonKnobs.text)("Date/Time","2011-11-11 11:11 PM")})});var locationStories=(0,_react3.storiesOf)("Location",module);locationStories.addDecorator(_addonKnobs.withKnobs);var initialLocationJSON=JSON.stringify({address:"800 Guadalupe St, Austin, TX 78701",position:{lat:30.271272,lng:-97.745934}});locationStories.add("Edit",(0,_storybookState.withState)({locationJSON:initialLocationJSON})(function(_ref){var store=_ref.store;return _react2.default.createElement(_LocationPickerWidget2.default,{value:store.state.locationJSON,onChange:function(newLocationJSON){return store.set({locationJSON:newLocationJSON})}})})).add("Review",function(){return _react2.default.createElement(_LocationReviewWidget2.default,{value:(0,_addonKnobs.text)("Location",initialLocationJSON)})},{knobs:{escapeHTML:!1}}),(0,_react3.storiesOf)("File Upload",module).add("Edit",function(){return _react2.default.createElement(_FileUploadWidget2.default,null)}).add("Review",function(){return _react2.default.createElement(_FileUploadReviewWidget2.default,null)}),(0,_react3.storiesOf)("Officer Details",module).add("Display",function(){return _react2.default.createElement(_OfficerDetailsDisplayWidget2.default,null)}),(0,_react3.storiesOf)("Witness Details",module).add("Display",function(){return _react2.default.createElement(_WitnessDetailsDisplayWidget2.default,null)})}).call(this,__webpack_require__(54)(module))},667:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(668);var _react2=_interopRequireDefault(__webpack_require__(4)),_reactFlatpickr2=_interopRequireDefault(__webpack_require__(671));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DateTimeWidget=function(_React$Component){function DateTimeWidget(props){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DateTimeWidget);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(DateTimeWidget.__proto__||Object.getPrototypeOf(DateTimeWidget)).call(this,props));return _this.onChange=_this.onChange.bind(_this),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(DateTimeWidget,_react2.default.Component),_createClass(DateTimeWidget,[{key:"onChange",value:function(_ref){_ref.dates;var datestring=_ref.datestring;this.props.onChange(datestring)}},{key:"render",value:function(){var _this2=this;return _react2.default.createElement(_reactFlatpickr2.default,{"data-enable-time":!0,value:[this.props.value],onChange:function(dates,datestring){return _this2.onChange({dates:dates,datestring:datestring})}})}}]),DateTimeWidget}();exports.default=DateTimeWidget,DateTimeWidget.__docgenInfo={description:"",methods:[{name:"onChange",docblock:null,modifiers:[],params:[{name:"{ dates, datestring }",type:null}],returns:null}],displayName:"DateTimeWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/DateTimeWidget.js"]={name:"DateTimeWidget",docgenInfo:DateTimeWidget.__docgenInfo,path:"src/DateTimeWidget.js"})},673:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=DateTimeWidget;var obj,_react=__webpack_require__(4),_react2=(obj=_react)&&obj.__esModule?obj:{default:obj},_dateFns=__webpack_require__(674);function DateTimeWidget(props){var date=(0,_dateFns.parse)(props.value);return _react2.default.createElement("span",null,(0,_dateFns.format)(date,"MMMM Mo, YYYY - h:mm A"))}DateTimeWidget.__docgenInfo={description:"",methods:[],displayName:"DateTimeWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/DateTimeReviewWidget.js"]={name:"DateTimeWidget",docgenInfo:DateTimeWidget.__docgenInfo,path:"src/DateTimeReviewWidget.js"})},777:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(4),_react2=_interopRequireDefault(_react),_reactMapboxGl=__webpack_require__(778),_reactMapboxGl2=_interopRequireDefault(_reactMapboxGl),MapboxGl=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__(125));_interopRequireDefault(__webpack_require__(805));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}__webpack_require__(817);var MapboxGeocoder=__webpack_require__(819),Map=(0,_reactMapboxGl2.default)({accessToken:"pk.eyJ1IjoiY3Jvd2VhdHgiLCJhIjoiY2o1NDFvYmxkMHhkcDMycDF2a3pseDFpZiJ9.UcnizcFDleMpv5Vbv8Rngw"}),geocoderControl=new MapboxGeocoder({accessToken:"pk.eyJ1IjoiY3Jvd2VhdHgiLCJhIjoiY2o1NDFvYmxkMHhkcDMycDF2a3pseDFpZiJ9.UcnizcFDleMpv5Vbv8Rngw",placeholder:"Enter a location here",bbox:[-98.173053,30.02329,-97.369564,30.627918],limit:5,trackProximity:!0}),SelectLocationMap=function(_Component){function SelectLocationMap(props){_classCallCheck(this,SelectLocationMap);var _this=_possibleConstructorReturn(this,(SelectLocationMap.__proto__||Object.getPrototypeOf(SelectLocationMap)).call(this,props));return _this.state={center:[-97.7460479736328,30.266184073558826],showPin:!0},_this.onStyleLoad=_this.onStyleLoad.bind(_this),_this.onMoveEnd=_this.onMoveEnd.bind(_this),_this.onDragStart=_this.onDragStart.bind(_this),_this.onDragEnd=_this.onDragEnd.bind(_this),_this}return _inherits(SelectLocationMap,_react.Component),_createClass(SelectLocationMap,[{key:"componentDidUpdate",value:function(prevProps){this.props.lat==prevProps.lat&&this.props.lng==prevProps.lng||this.setState({showPin:!0})}},{key:"toggleMenu",value:function(){this.setState({showPin:!this.state.showPin})}},{key:"onDragStart",value:function(map){this.setState({showPin:!1})}},{key:"onDragEnd",value:function(map){}},{key:"onMoveEnd",value:function(map){var center=map.getCenter();this.props.locationUpdated({lngLat:center})}},{key:"onStyleLoad",value:function(map){var zoomControl=new MapboxGl.NavigationControl;function updateGeocoderProximity(){if(map.getZoom()>9){var center=map.getCenter().wrap();geocoderControl.setProximity({longitude:center.lng,latitude:center.lat})}else geocoderControl.setProximity(null)}map.addControl(zoomControl,"bottom-right"),map.dragRotate.disable(),map.touchZoomRotate.disableRotation(),map.addSource("geojson-point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),map.addLayer({id:"geocoded-point",source:"geojson-point",type:"circle",paint:{"circle-radius":10,"circle-color":"#007cbf"}}),map.addControl(geocoderControl,"top-left"),geocoderControl.on("result",function(event){map.getSource("geojson-point").setData(event.result.geometry)}),map.on("load",updateGeocoderProximity),map.on("moveend",updateGeocoderProximity),map.resize()}},{key:"render",value:function(){var _props=this.props,lat=_props.lat,lng=_props.lng,pinDrop=this.state.showPin?"show":"hide";return _react2.default.createElement(Map,{style:"mapbox://styles/croweatx/cjow5d6cd3l7g2snrvf17wf0r",center:[lng,lat],onStyleLoad:this.onStyleLoad,onDragStart:this.onDragStart,onMoveEnd:this.onMoveEnd},_react2.default.createElement(_reactMapboxGl.Layer,{type:"symbol",id:"selectedLocation",layout:{"icon-image":"marker-open-small","icon-allow-overlap":!0}}),_react2.default.createElement("div",{className:"pin "+pinDrop}),_react2.default.createElement("div",{className:"pulse"}))}}]),SelectLocationMap}(),LocationPickerWidget=function(_React$Component){function LocationPickerWidget(props){_classCallCheck(this,LocationPickerWidget);var _this2=_possibleConstructorReturn(this,(LocationPickerWidget.__proto__||Object.getPrototypeOf(LocationPickerWidget)).call(this,props));return _this2.state={suggestions:[]},_this2.locationUpdated=_this2.locationUpdated.bind(_this2),_this2.onChange=_this2.onChange.bind(_this2),_this2.onSuggestionsFetchRequested=_this2.onSuggestionsFetchRequested.bind(_this2),_this2.onSuggestionsClearRequested=_this2.onSuggestionsClearRequested.bind(_this2),_this2.onSuggestionSelected=_this2.onSuggestionSelected.bind(_this2),_this2.getCurrentPosition=_this2.getCurrentPosition.bind(_this2),_this2}return _inherits(LocationPickerWidget,_react2.default.Component),_createClass(LocationPickerWidget,[{key:"locationUpdated",value:function(_ref){var _this3=this,lngLat=_ref.lngLat,address="Dropped Pin";fetch("\n      https://reverse.geocoder.api.here.com/6.2/reversegeocode.json?prox="+lngLat.lat+"%2C"+lngLat.lng+"%2C250&mode=retrieveAddresses&maxresults=1&gen=9&app_id=R3EtGwWQmTKG5eVeyLV8&app_code=8aDkNeOzfxGFkOKm9fER0A").then(function(response){if(200===response.status)response.json().then(function(data){var location={address:address=data.Response.View[0].Result[0].Location.Address.Label,position:lngLat},valueJSON=JSON.stringify(location);geocoderControl.setInput(location.address),_this3.props.onChange(valueJSON)});else{console.log("Looks like there was a problem. Status Code: "+response.status);var location={address:address,position:lngLat},valueJSON=JSON.stringify(location);_this3.props.onChange(valueJSON)}})}},{key:"onChange",value:function(event,_ref2){var newValue=_ref2.newValue,valueJSON=this.props.value?this.props.value:this.props.schema.formData,newLocation={address:newValue,position:JSON.parse(valueJSON).position},newValueJSON=JSON.stringify(newLocation);this.props.onChange(newValueJSON)}},{key:"onSuggestionSelected",value:function(event,_ref3){var suggestion=_ref3.suggestion,suggestionValue=_ref3.suggestionValue;_ref3.suggestionIndex,_ref3.sectionIndex,_ref3.method;if(suggestion.location){var location={address:suggestionValue,position:{lng:suggestion.location[1],lat:suggestion.location[0]}},valueJSON=JSON.stringify(location);this.props.onChange(valueJSON)}this.autosuggestInput.blur()}},{key:"onSuggestionsFetchRequested",value:function(_ref4){var _this4=this,value=_ref4.value;if(value.length>2){var valueJSON=this.props.value?this.props.value:this.props.schema.formData,location=JSON.parse(valueJSON);fetch("https://places.api.here.com/places/v1/autosuggest?at="+location.position.lat+","+location.position.lng+"&q="+value+"&app_id=R3EtGwWQmTKG5eVeyLV8&app_code=8aDkNeOzfxGFkOKm9fER0A").then(function(response){if(200!==response.status)return console.log("Looks like there was a problem. Status Code: "+response.status),void _this4.setState({suggestions:[]});response.json().then(function(data){var suggestions=data.results.filter(function(result){return result.position&&result.vicinity}).map(function(result){return{name:result.title,location:result.position,humanAddress:result.vicinity.replace(/<br\/>/g,", ")}});_this4.setState({suggestions:suggestions})})}).catch(function(err){console.log("Fetch Error :-S",err),_this4.setState({suggestions:[]})})}else this.setState({suggestions:[]})}},{key:"onSuggestionsClearRequested",value:function(){this.setState({suggestions:[],value:""})}},{key:"getCurrentPosition",value:function(){var _this5=this;window.navigator.geolocation.getCurrentPosition(function(position){var lngLat={lat:position.coords.latitude,lng:position.coords.longitude};_this5.locationUpdated({lngLat:lngLat})},function(error){},{enableHighAccuracy:!0})}},{key:"render",value:function(){var valueJSON=this.props.value?this.props.value:this.props.schema.formData,location=JSON.parse(valueJSON);location.address,this.onChange;return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"map-container"},_react2.default.createElement(SelectLocationMap,{lat:location.position.lat,lng:location.position.lng,locationUpdated:this.locationUpdated})))}}]),LocationPickerWidget}();exports.default=LocationPickerWidget,LocationPickerWidget.__docgenInfo={description:"",methods:[{name:"locationUpdated",docblock:null,modifiers:[],params:[{name:"{ lngLat }",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null},{name:"{ newValue }",type:null}],returns:null},{name:"onSuggestionSelected",docblock:null,modifiers:[],params:[{name:"event",type:null},{name:"{ suggestion, suggestionValue, suggestionIndex, sectionIndex, method }",type:null}],returns:null},{name:"onSuggestionsFetchRequested",docblock:null,modifiers:[],params:[{name:"{ value }",type:null}],returns:null},{name:"onSuggestionsClearRequested",docblock:null,modifiers:[],params:[],returns:null},{name:"getCurrentPosition",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LocationPickerWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/LocationPickerWidget.js"]={name:"LocationPickerWidget",docgenInfo:LocationPickerWidget.__docgenInfo,path:"src/LocationPickerWidget.js"})},817:function(module,exports,__webpack_require__){var content=__webpack_require__(818);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(88)(content,options);content.locals&&(module.exports=content.locals)},818:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(87)(!1)).push([module.i,'.map-container {\n  position: relative;\n}\n\n.mapboxgl-map {\n  min-height: 300px;\n}\n\n/* Basics */\n.mapboxgl-ctrl-geocoder,\n.mapboxgl-ctrl-geocoder *,\n.mapboxgl-ctrl-geocoder *:after,\n.mapboxgl-ctrl-geocoder *:before {\n  -webkit-box-sizing:border-box;\n     -moz-box-sizing:border-box;\n          box-sizing:border-box;\n  }\n.mapboxgl-ctrl-geocoder {\n  font:16px;\n  position:relative;\n  background-color:white;\n  width:100%;\n  min-width:100%;\n  /* max-width:600px; */\n  z-index:1;\n  border-radius:3px;\n  }\n\n.mapboxgl-ctrl-geocoder input[type=\'text\'] {\n  font-size:16px;\n  width:100%;\n  border:0;\n  background-color:transparent;\n  height:40px;\n  margin:0;\n  /* color:rgba(0,0,0,.5); */\n  padding:10px 10px 10px 40px;\n  text-overflow:ellipsis;\n  white-space:nowrap;\n  overflow:hidden;\n  }\n  .mapboxgl-ctrl-geocoder input:focus {\n    color:rgba(0,0,0,.75);\n    outline:0;\n    box-shadow:none;\n    outline:thin dotted\\8;\n    }\n\n.mapboxgl-ctrl-geocoder .geocoder-icon-search {\n  position:absolute;\n  top:10px;\n  left:10px;\n  }\n.mapboxgl-ctrl-geocoder button {\n  padding:0;\n  margin:0;\n  background-color:#fff;\n  border:none;\n  cursor:pointer;\n  }\n.mapboxgl-ctrl-geocoder .geocoder-pin-right * {\n  background-color:#fff;\n  z-index:2;\n  position:absolute;\n  right:10px;\n  top:10px;\n  display:none;\n  }\n\n.mapboxgl-ctrl-geocoder,\n.mapboxgl-ctrl-geocoder ul {\n  box-shadow: 0 0 0 2px rgba(0,0,0,0.1);\n  width: 100%;\n\n  }\n\n/* Suggestions */\n.mapboxgl-ctrl-geocoder ul {\n  background-color:#fff;\n  border-radius: 0 0 3px 3px;\n  left:0;\n  list-style:none;\n  margin:0;\n  padding:0;\n  position:absolute;\n  width:100%;\n  top:100%;\n  z-index:1000;\n  overflow:hidden;\n  font-size:12px;\n  }\n  .mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-geocoder ul,\n  .mapboxgl-ctrl-bottom-right .mapboxgl-ctrl-geocoder ul {\n    top:auto;\n    bottom:100%;\n    }\n  .mapboxgl-ctrl-geocoder ul > li > a {\n    clear:both;\n    cursor:default;\n    display:block;\n    padding:5px 10px;\n    white-space:nowrap;\n    overflow:hidden;\n    text-overflow:ellipsis;\n    white-space:nowrap;\n    border-bottom:1px solid rgba(0,0,0,0.1);\n    color:#404040;\n    }\n    .mapboxgl-ctrl-geocoder ul > li:last-child > a { border-bottom:none; }\n    .mapboxgl-ctrl-geocoder ul > li > a:hover {\n      color:#202020;\n      background-color:#f3f3f3;\n      text-decoration:none;\n      cursor:pointer;\n      }\n    .mapboxgl-ctrl-geocoder ul > li.active > a {\n      color:#202020;\n      background-color:#e3e3e3;\n      text-decoration:none;\n      cursor:pointer;\n      }\n\n@-webkit-keyframes rotate { from { -webkit-transform: rotate(0deg); } to { -webkit-transform: rotate(360deg); } }\n   @-moz-keyframes rotate { from { -moz-transform: rotate(0deg); } to { -moz-transform: rotate(360deg); } }\n    @-ms-keyframes rotate { from { -ms-transform: rotate(0deg); } to { -ms-transform: rotate(360deg); } }\n        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n\n\n\nhtml body.sb-show-main div#root div div.mapboxgl-map div.mapboxgl-control-container div.mapboxgl-ctrl-top-left div.mapboxgl-ctrl.mapboxgl-ctrl-group button.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate {\n  position: absolute;\n  left: 105%;\n  top: 28%;\n  z-index: 20;\n  background-color: white;\n\n}\n\n/* icons */\n.geocoder-icon {\n  display:inline-block;\n  width:20px;\n  height:20px;\n  vertical-align:middle;\n  speak:none;\n  background-repeat:no-repeat;\n  }\n  .geocoder-icon-search {\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIj4NCiAgPHBhdGggZD0iTTguNSA0QzYgNCA0IDYgNCA4LjUgNCAxMSA2IDEzIDguNSAxMyA5LjQgMTMgMTAuMiAxMi44IDEwLjggMTIuM0wxMC45IDEyLjMgMTQuMyAxNS43QzE0LjUgMTUuOSAxNC43IDE2IDE1IDE2IDE1LjYgMTYgMTYgMTUuNiAxNiAxNSAxNiAxNC43IDE1LjkgMTQuNSAxNS43IDE0LjNMMTIuMyAxMC45IDEyLjMgMTAuOEMxMi44IDEwLjIgMTMgOS40IDEzIDguNSAxMyA2IDExIDQgOC41IDR6TTguNSA1LjVDMTAuMiA1LjUgMTEuNSA2LjggMTEuNSA4LjUgMTEuNSAxMC4yIDEwLjIgMTEuNSA4LjUgMTEuNSA2LjggMTEuNSA1LjUgMTAuMiA1LjUgOC41IDUuNSA2LjggNi44IDUuNSA4LjUgNS41eiIgZmlsbD0iIzAwMCIvPg0KPC9zdmc+);\n    }\n  .geocoder-icon-close {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiBoZWlnaHQ9IjIwIiB3aWR0aD0iMjAiPg0KICA8cGF0aCBkPSJtNSA1IDAgMS41IDMuNSAzLjUtMy41IDMuNSAwIDEuNSAxLjUgMCAzLjUtMy41IDMuNSAzLjUgMS41IDAgMC0xLjUtMy41LTMuNSAzLjUtMy41IDAtMS41LTEuNSAwLTMuNSAzLjUtMy41LTMuNS0xLjUgMHoiIGZpbGw9IiMwMDAiLz4NCjwvc3ZnPg==);\n    }\n  .geocoder-icon-loading {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxwYXRoIGQ9Im0xMCAyIDAgMy4zYzIuNiAwIDQuNyAyLjEgNC43IDQuN2wzLjMgMGMwLTQuNC0zLjYtOC04LTh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEwIDJDNi44IDIgMy43IDQuMSAyLjYgNy4xIDEuNCAxMCAyLjEgMTMuNiA0LjUgMTUuOGMyLjQgMi40IDYuNCAyLjkgOS40IDEuMiAyLjUtMS40IDQuMi00LjIgNC4yLTctMS4xIDAtMi4yIDAtMy4zIDAgMC4xIDIuMi0xLjcgNC4zLTMuOCA0LjZDOC43IDE1IDYuNCAxMy44IDUuNyAxMS43IDQuOCA5LjcgNS42IDcuMSA3LjYgNiA4LjMgNS42IDkuMSA1LjMgMTAgNS4zYzAtMS4xIDAtMi4yIDAtMy4zeiIgc3R5bGU9ImZpbGw6IzAwMDtvcGFjaXR5OjAuMiIvPjwvc3ZnPg==);\n    -webkit-animation: rotate 400ms linear infinite;\n       -moz-animation: rotate 400ms linear infinite;\n        -ms-animation: rotate 400ms linear infinite;\n            animation: rotate 400ms linear infinite;\n    }\n\n    .pin {\n      width: 30px;\n      height: 30px;\n      position: absolute;\n      left: 48.8%;\n      top: 44%;\n      transform: rotate(-45deg);\n      border-radius: 50% 50% 50% 0;\n      background: #89849b;\n      /* left: 50%;\n      top: 50%;\n      bottom: 50%;\n      right: 50%; */\n      /* margin: -5% 0 0 -2%; */\n      -webkit-animation-name: bounce;\n      -moz-animation-name: bounce;\n      -o-animation-name: bounce;\n      -ms-animation-name: bounce;\n      animation-name: bounce;\n      -webkit-animation-fill-mode: both;\n      -moz-animation-fill-mode: both;\n      -o-animation-fill-mode: both;\n      -ms-animation-fill-mode: both;\n      animation-fill-mode: both;\n      animation-duration: 1s;\n      display: initial;\n\n    }\n    .pin.hide {\n      top: 40%;\n    }\n    .pin:after {\n      content: \'\';\n      width: 14px;\n      height: 14px;\n      margin: 8px 0 0 8px;\n      background: #2f2f2f;\n      position: absolute;\n      border-radius: 50%;\n    }\n    .pulse {\n      background: rgba(0,0,0,0.2);\n      border-radius: 50%;\n      height: 14px;\n      width: 14px;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate3d(-50%,-50%,0);\n      margin: 1% 0px 0px -0.7%;\n      -webkit-transform: rotateX(55deg);\n      -moz-transform: rotateX(55deg);\n      -o-transform: rotateX(55deg);\n      -ms-transform: rotateX(55deg);\n      transform: rotateX(55deg);\n      z-index: 1;\n    }\n    .pulse:after {\n      content: "";\n      border-radius: 50%;\n      height: 40px;\n      width: 40px;\n      position: absolute;\n      margin: -13px 0 0 -13px;\n      -webkit-animation: pulsate 1s ease-out;\n      -moz-animation: pulsate 1s ease-out;\n      -o-animation: pulsate 1s ease-out;\n      -ms-animation: pulsate 1s ease-out;\n      animation: pulsate 1s ease-out;\n      -webkit-animation-iteration-count: infinite;\n      -moz-animation-iteration-count: infinite;\n      -o-animation-iteration-count: infinite;\n      -ms-animation-iteration-count: infinite;\n      animation-iteration-count: infinite;\n      opacity: 0;\n      -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n      filter: alpha(opacity=0);\n      -webkit-box-shadow: 0 0 1px 2px #89849b;\n      box-shadow: 0 0 1px 2px #89849b;\n      -webkit-animation-delay: 1.1s;\n      -moz-animation-delay: 1.1s;\n      -o-animation-delay: 1.1s;\n      -ms-animation-delay: 1.1s;\n      animation-delay: 1.1s;\n    }\n    @-moz-keyframes pulsate {\n      0% {\n        -webkit-transform: scale(0.1, 0.1);\n        -moz-transform: scale(0.1, 0.1);\n        -o-transform: scale(0.1, 0.1);\n        -ms-transform: scale(0.1, 0.1);\n        transform: scale(0.1, 0.1);\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n      }\n      50% {\n        opacity: 1;\n        -ms-filter: none;\n        filter: none;\n      }\n      100% {\n        -webkit-transform: scale(1.2, 1.2);\n        -moz-transform: scale(1.2, 1.2);\n        -o-transform: scale(1.2, 1.2);\n        -ms-transform: scale(1.2, 1.2);\n        transform: scale(1.2, 1.2);\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n      }\n    }\n    @-webkit-keyframes pulsate {\n      0% {\n        -webkit-transform: scale(0.1, 0.1);\n        -moz-transform: scale(0.1, 0.1);\n        -o-transform: scale(0.1, 0.1);\n        -ms-transform: scale(0.1, 0.1);\n        transform: scale(0.1, 0.1);\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n      }\n      50% {\n        opacity: 1;\n        -ms-filter: none;\n        filter: none;\n      }\n      100% {\n        -webkit-transform: scale(1.2, 1.2);\n        -moz-transform: scale(1.2, 1.2);\n        -o-transform: scale(1.2, 1.2);\n        -ms-transform: scale(1.2, 1.2);\n        transform: scale(1.2, 1.2);\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n      }\n    }\n    @-o-keyframes pulsate {\n      0% {\n        -webkit-transform: scale(0.1, 0.1);\n        -moz-transform: scale(0.1, 0.1);\n        -o-transform: scale(0.1, 0.1);\n        -ms-transform: scale(0.1, 0.1);\n        transform: scale(0.1, 0.1);\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n      }\n      50% {\n        opacity: 1;\n        -ms-filter: none;\n        filter: none;\n      }\n      100% {\n        -webkit-transform: scale(1.2, 1.2);\n        -moz-transform: scale(1.2, 1.2);\n        -o-transform: scale(1.2, 1.2);\n        -ms-transform: scale(1.2, 1.2);\n        transform: scale(1.2, 1.2);\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n      }\n    }\n    @keyframes pulsate {\n      0% {\n        -webkit-transform: scale(0.1, 0.1);\n        -moz-transform: scale(0.1, 0.1);\n        -o-transform: scale(0.1, 0.1);\n        -ms-transform: scale(0.1, 0.1);\n        transform: scale(0.1, 0.1);\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n      }\n      50% {\n        opacity: 1;\n        -ms-filter: none;\n        filter: none;\n      }\n      100% {\n        -webkit-transform: scale(1.2, 1.2);\n        -moz-transform: scale(1.2, 1.2);\n        -o-transform: scale(1.2, 1.2);\n        -ms-transform: scale(1.2, 1.2);\n        transform: scale(1.2, 1.2);\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n      }\n    }\n    /* @-moz-keyframes bounce {\n      0% {\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n        -webkit-transform: translateY(-2000px) rotate(-45deg);\n        -moz-transform: translateY(-2000px) rotate(-45deg);\n        -o-transform: translateY(-2000px) rotate(-45deg);\n        -ms-transform: translateY(-2000px) rotate(-45deg);\n        transform: translateY(-2000px) rotate(-45deg);\n      }\n      60% {\n        opacity: 1;\n        -ms-filter: none;\n        filter: none;\n        -webkit-transform: translateY(30px) rotate(-45deg);\n        -moz-transform: translateY(30px) rotate(-45deg);\n        -o-transform: translateY(30px) rotate(-45deg);\n        -ms-transform: translateY(30px) rotate(-45deg);\n        transform: translateY(30px) rotate(-45deg);\n      }\n      80% {\n        -webkit-transform: translateY(-10px) rotate(-45deg);\n        -moz-transform: translateY(-10px) rotate(-45deg);\n        -o-transform: translateY(-10px) rotate(-45deg);\n        -ms-transform: translateY(-10px) rotate(-45deg);\n        transform: translateY(-10px) rotate(-45deg);\n      }\n      100% {\n        -webkit-transform: translateY(0) rotate(-45deg);\n        -moz-transform: translateY(0) rotate(-45deg);\n        -o-transform: translateY(0) rotate(-45deg);\n        -ms-transform: translateY(0) rotate(-45deg);\n        transform: translateY(0) rotate(-45deg);\n      }\n    }\n    @-webkit-keyframes bounce {\n      0% {\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n        -webkit-transform: translateY(-2000px) rotate(-45deg);\n        -moz-transform: translateY(-2000px) rotate(-45deg);\n        -o-transform: translateY(-2000px) rotate(-45deg);\n        -ms-transform: translateY(-2000px) rotate(-45deg);\n        transform: translateY(-2000px) rotate(-45deg);\n      }\n      60% {\n        opacity: 1;\n        -ms-filter: none;\n        filter: none;\n        -webkit-transform: translateY(30px) rotate(-45deg);\n        -moz-transform: translateY(30px) rotate(-45deg);\n        -o-transform: translateY(30px) rotate(-45deg);\n        -ms-transform: translateY(30px) rotate(-45deg);\n        transform: translateY(30px) rotate(-45deg);\n      }\n      80% {\n        -webkit-transform: translateY(-10px) rotate(-45deg);\n        -moz-transform: translateY(-10px) rotate(-45deg);\n        -o-transform: translateY(-10px) rotate(-45deg);\n        -ms-transform: translateY(-10px) rotate(-45deg);\n        transform: translateY(-10px) rotate(-45deg);\n      }\n      100% {\n        -webkit-transform: translateY(0) rotate(-45deg);\n        -moz-transform: translateY(0) rotate(-45deg);\n        -o-transform: translateY(0) rotate(-45deg);\n        -ms-transform: translateY(0) rotate(-45deg);\n        transform: translateY(0) rotate(-45deg);\n      }\n    }\n    @-o-keyframes bounce {\n      0% {\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n        -webkit-transform: translateY(-2000px) rotate(-45deg);\n        -moz-transform: translateY(-2000px) rotate(-45deg);\n        -o-transform: translateY(-2000px) rotate(-45deg);\n        -ms-transform: translateY(-2000px) rotate(-45deg);\n        transform: translateY(-2000px) rotate(-45deg);\n      }\n      60% {\n        opacity: 1;\n        -ms-filter: none;\n        filter: none;\n        -webkit-transform: translateY(30px) rotate(-45deg);\n        -moz-transform: translateY(30px) rotate(-45deg);\n        -o-transform: translateY(30px) rotate(-45deg);\n        -ms-transform: translateY(30px) rotate(-45deg);\n        transform: translateY(30px) rotate(-45deg);\n      }\n      80% {\n        -webkit-transform: translateY(-10px) rotate(-45deg);\n        -moz-transform: translateY(-10px) rotate(-45deg);\n        -o-transform: translateY(-10px) rotate(-45deg);\n        -ms-transform: translateY(-10px) rotate(-45deg);\n        transform: translateY(-10px) rotate(-45deg);\n      }\n      100% {\n        -webkit-transform: translateY(0) rotate(-45deg);\n        -moz-transform: translateY(0) rotate(-45deg);\n        -o-transform: translateY(0) rotate(-45deg);\n        -ms-transform: translateY(0) rotate(-45deg);\n        transform: translateY(0) rotate(-45deg);\n      }\n    } */\n    @keyframes bounce {\n      0% {\n        opacity: 1;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        filter: alpha(opacity=0);\n        -webkit-transform: translateY(-2000px) rotate(-45deg);\n        -moz-transform: translateY(-2000px) rotate(-45deg);\n        -o-transform: translateY(-2000px) rotate(-45deg);\n        -ms-transform: translateY(-2000px) rotate(-45deg);\n        transform: translateY(-2000px) rotate(-45deg);\n      }\n      60% {\n        opacity: 1;\n        -ms-filter: none;\n        filter: none;\n        -webkit-transform: translateY(5px) rotate(-45deg);\n        -moz-transform: translateY(5px) rotate(-45deg);\n        -o-transform: translateY(5px) rotate(-45deg);\n        -ms-transform: translateY(5px) rotate(-45deg);\n        transform: translateY(5px) rotate(-45deg);\n      }\n      /* 80% {\n        -webkit-transform: translateY(-10px) rotate(-45deg);\n        -moz-transform: translateY(-10px) rotate(-45deg);\n        -o-transform: translateY(-10px) rotate(-45deg);\n        -ms-transform: translateY(-10px) rotate(-45deg);\n        transform: translateY(-10px) rotate(-45deg);\n      } */\n      /* 100% {\n        -webkit-transform: translateY(0) rotate(-45deg);\n        -moz-transform: translateY(0) rotate(-45deg);\n        -o-transform: translateY(0) rotate(-45deg);\n        -ms-transform: translateY(0) rotate(-45deg);\n        transform: translateY(0) rotate(-45deg);\n      } */\n    }\n\n\n    .mapboxgl-ctrl-group .mapboxgl-ctrl-compass {\n    display: none;\n    }\n',""])},843:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LocationReviewWidget;var _react2=_interopRequireDefault(__webpack_require__(4));_interopRequireDefault(__webpack_require__(181));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LocationReviewWidget(props){var valueJSON=props.value?props.value:props.schema.formData,location=JSON.parse(valueJSON);return _react2.default.createElement("div",null,_react2.default.createElement("img",{src:"//maps.googleapis.com/maps/api/staticmap?markers="+location.position.lat+","+location.position.lng+"&zoom=15&size=680x400&scale=1&maptype=roadmap&key=AIzaSyBqtg0ntvqWGSHOznB4kq3DiYSyyVNKzIs&style=feature:landscape%7Celement:geometry.fill%7Ccolor:0xf0eef0&style=feature:landscape.man_made%7Celement:geometry.fill%7Ccolor:0xf0eef0&style=feature:poi%7Celement:labels.text%7Cvisibility:off&style=feature:poi.business%7Cvisibility:off&style=feature:road%7Celement:labels.icon%7Cvisibility:off&style=feature:road.arterial%7Celement:geometry.fill%7Ccolor:0x7f7189&style=feature:road.arterial%7Celement:geometry.stroke%7Ccolor:0x7f7189&style=feature:road.arterial%7Celement:labels.icon%7Ccolor:0x3e3b6c&style=feature:road.arterial%7Celement:labels.text.fill%7Ccolor:0x5e494a&style=feature:road.arterial%7Celement:labels.text.stroke%7Ccolor:0xffffff&style=feature:road.highway%7Celement:geometry.fill%7Ccolor:0xe89f9a&style=feature:road.highway%7Celement:geometry.stroke%7Ccolor:0xd6613c&style=feature:road.highway%7Celement:labels.text.fill%7Ccolor:0x190f2c&style=feature:road.highway%7Celement:labels.text.stroke%7Ccolor:0xf6f2fd&style=feature:road.local%7Celement:geometry.fill%7Ccolor:0xb8b1bd&style=feature:road.local%7Celement:geometry.stroke%7Ccolor:0xb8b1bd&style=feature:road.local%7Celement:labels.text%7Ccolor:0xffffff&style=feature:road.local%7Celement:labels.text.fill%7Ccolor:0x5e494a&style=feature:road.local%7Celement:labels.text.stroke%7Ccolor:0xffffff&style=feature:transit%7Cvisibility:off"}),_react2.default.createElement("div",null,location.address))}LocationReviewWidget.__docgenInfo={description:"",methods:[],displayName:"LocationReviewWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/LocationReviewWidget.js"]={name:"LocationReviewWidget",docgenInfo:LocationReviewWidget.__docgenInfo,path:"src/LocationReviewWidget.js"})},844:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(4),_react2=_interopRequireDefault(_react),_reactFilepond=__webpack_require__(845),_filepondPluginImageExifOrientation2=_interopRequireDefault(__webpack_require__(847)),_filepondPluginImagePreview2=_interopRequireDefault(__webpack_require__(848)),_filepondPluginFileValidateSize2=_interopRequireDefault(__webpack_require__(849));__webpack_require__(850),__webpack_require__(852);var _crypto2=_interopRequireDefault(__webpack_require__(854)),_uuid2=_interopRequireDefault(__webpack_require__(937));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(0,_reactFilepond.registerPlugin)(_filepondPluginImageExifOrientation2.default,_filepondPluginImagePreview2.default,_filepondPluginFileValidateSize2.default);var endpoint=Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).API_URL,FileUploadWidget=function(_Component){function FileUploadWidget(props){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FileUploadWidget);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(FileUploadWidget.__proto__||Object.getPrototypeOf(FileUploadWidget)).call(this,props)),uniqueid=_crypto2.default.createHmac("sha256",_uuid2.default.v4()).digest("hex");return _this.state={uniqueIdentifier:uniqueid,files:[],fileList:[]},_this.fileList=[],_this.filesUpdated=_this.filesUpdated.bind(_this),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(FileUploadWidget,_react.Component),_createClass(FileUploadWidget,[{key:"handleInit",value:function(){console.log("FilePond instance has initialised.")}},{key:"handleProcessing",value:function(fieldName,file,metadata,load,error,progress,_abort){var formData=new FormData,fileSignature=this.getFileSignatureFromList(file),fields=[];null==fileSignature&&console.log("The file signature for file could not be located.");try{fields=Object.keys(fileSignature.fields)}catch(error){fields=[],console.log("Error: "),console.log(error)}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=fields[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value;formData.append(key,fileSignature.fields[key])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}formData.append("file",file,fileSignature.fields.key);var request=new XMLHttpRequest;return request.open("POST",fileSignature.url),request.upload.onprogress=function(e){progress(e.lengthComputable,e.loaded,e.total)},request.onload=function(){request.status>=200&&request.status<300?load(request.responseText):error("oh no")},request.send(formData),{abort:function(){request.abort(),_abort()}}}},{key:"withQuery",value:function(url,params){var query=Object.keys(params).filter(function(k){return void 0!==params[k]}).map(function(k){return encodeURIComponent(k)+"="+encodeURIComponent(params[k])}).join("&");return url+=(-1===url.indexOf("?")?"?":"&")+query}},{key:"parseSignatureResponse",value:function(res){this.fileList.push(res);var value=!1;try{value=!!this.fileList.length&&JSON.stringify(this.fileList.map(function(f){return""+f.creds.fields.key}))}catch(error){console.log("parseSignatureResponse() Error: "),console.log(error),value=!1}this.props.onChange(value),this.setState({fileList:[].concat(_toConsumableArray(this.fileList))})}},{key:"retrieveFileSignature",value:function(key,uniqueIdentifier){var _this2=this,formData=new FormData;formData.append("key",key),formData.append("uniqueid",uniqueIdentifier),fetch(this.withQuery(endpoint+"/uploads/request-signature",{file:key,uniqueid:uniqueIdentifier.toLowerCase()})).then(function(res){return res.json()}).catch(function(error){return console.error("Error:",error)}).then(function(res){_this2.parseSignatureResponse(res)})}},{key:"handleFileAdded",value:function(error,file){this.retrieveFileSignature(file.filename,this.state.uniqueIdentifier)}},{key:"handleRemoveFile",value:function(file){for(var i in this.fileList){this.fileList[i].filename===file.filename&&(console.log("Removing: "+file.filename+" at index: "+i),this.fileList.splice(i,1),this.setState({fileList:[].concat(_toConsumableArray(this.fileList))}))}}},{key:"getFileSignatureFromList",value:function(file){var uploadedFileName=file.name||"";for(var i in this.fileList){if(this.fileList[i].filename===uploadedFileName)return console.log("getFileSignatureFromList() Item found at index: "+i),this.fileList[i].creds}return null}},{key:"filesUpdated",value:function(_ref){var fileItems=_ref.fileItems;this.setState({files:fileItems.map(function(fileItem){return fileItem.file})})}},{key:"render",value:function(){var _this3=this;return _react2.default.createElement("div",null,_react2.default.createElement("header",null,_react2.default.createElement(_reactFilepond.FilePond,{ref:function(_ref2){return _this3.pond=_ref2},allowMultiple:!0,allowFileSizeValidation:!0,maxFiles:100,maxFileSize:"20000MB",server:{process:this.handleProcessing.bind(this)},oninit:function(){return _this3.handleInit()},onaddfile:function(error,file){return _this3.handleFileAdded(error,file)},onremovefile:function(file){return _this3.handleRemoveFile(file)},onupdatefiles:function(fileItems){return _this3.filesUpdated({fileItems:fileItems})}},this.state.files.map(function(file){return _react2.default.createElement(_reactFilepond.File,{key:file,src:file,origin:"local"})}))))}}]),FileUploadWidget}();exports.default=FileUploadWidget,FileUploadWidget.__docgenInfo={description:"",methods:[{name:"handleInit",docblock:null,modifiers:[],params:[],returns:null},{name:"handleProcessing",docblock:null,modifiers:[],params:[{name:"fieldName",type:null},{name:"file",type:null},{name:"metadata",type:null},{name:"load",type:null},{name:"error",type:null},{name:"progress",type:null},{name:"abort",type:null}],returns:null},{name:"withQuery",docblock:null,modifiers:[],params:[{name:"url",type:null},{name:"params",type:null}],returns:null},{name:"parseSignatureResponse",docblock:null,modifiers:[],params:[{name:"res",type:null}],returns:null},{name:"retrieveFileSignature",docblock:null,modifiers:[],params:[{name:"key",type:null},{name:"uniqueIdentifier",type:null}],returns:null},{name:"handleFileAdded",docblock:null,modifiers:[],params:[{name:"error",type:null},{name:"file",type:null}],returns:null},{name:"handleRemoveFile",docblock:null,modifiers:[],params:[{name:"file",type:null}],returns:null},{name:"getFileSignatureFromList",docblock:null,modifiers:[],params:[{name:"file",type:null}],returns:null},{name:"filesUpdated",docblock:null,modifiers:[],params:[{name:"{ fileItems }",type:null}],returns:null}],displayName:"FileUploadWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/FileUploadWidget.js"]={name:"FileUploadWidget",docgenInfo:FileUploadWidget.__docgenInfo,path:"src/FileUploadWidget.js"})},857:function(module,exports){},859:function(module,exports){},890:function(module,exports){},891:function(module,exports){},939:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=FileUploadReviewWidget;var obj,_react=__webpack_require__(4),_react2=(obj=_react)&&obj.__esModule?obj:{default:obj};function FileUploadReviewWidget(props){if(!props.value)return null;var files=JSON.parse(props.value);return _react2.default.createElement("ul",null,files.map(function(f){return _react2.default.createElement("li",{key:f},f)}))}FileUploadReviewWidget.__docgenInfo={description:"",methods:[],displayName:"FileUploadReviewWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/FileUploadReviewWidget.js"]={name:"FileUploadReviewWidget",docgenInfo:FileUploadReviewWidget.__docgenInfo,path:"src/FileUploadReviewWidget.js"})},940:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=OfficerDetailsDisplayWidget;var _react2=_interopRequireDefault(__webpack_require__(4));_interopRequireDefault(__webpack_require__(181));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function OfficerDetailsDisplayWidget(props){return _react2.default.createElement("div",null)}OfficerDetailsDisplayWidget.__docgenInfo={description:"",methods:[],displayName:"OfficerDetailsDisplayWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/OfficerDetailsDisplayWidget.js"]={name:"OfficerDetailsDisplayWidget",docgenInfo:OfficerDetailsDisplayWidget.__docgenInfo,path:"src/OfficerDetailsDisplayWidget.js"})},941:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=WitnessDetailsDisplayWidget;var _react2=_interopRequireDefault(__webpack_require__(4));_interopRequireDefault(__webpack_require__(181));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function WitnessDetailsDisplayWidget(props){return _react2.default.createElement("div",null)}WitnessDetailsDisplayWidget.__docgenInfo={description:"",methods:[],displayName:"WitnessDetailsDisplayWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/WitnessDetailsDisplayWidget.js"]={name:"WitnessDetailsDisplayWidget",docgenInfo:WitnessDetailsDisplayWidget.__docgenInfo,path:"src/WitnessDetailsDisplayWidget.js"})}},[[361,1,2]]]);
//# sourceMappingURL=main.7a520772b1f0011bfaca.bundle.js.map